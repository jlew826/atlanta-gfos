<div ng-controller="ViewPropertiesCtrl" style="padding-left: 5px">
    <h3>View Properties</h3>
    <button ui-sref="view_visit_history" style="display:inline">View Visit History</button>
    <button ng-click="logOut()" style="display:inline">Log Out</button>

    <input type="text" ng-model="query" placeholder="Filter by any attribute... "
        style="font-size: 20px; height:75px; width: 400px; margin:0px auto; display:block; margin-bottom: 20px !important">
    <table class="table table-hover">
        <tr>
            <th>Name</th>
            <th>Address</th>
            <th>City</th>
            <th>Zip</th>
            <th>Type</th>
            <th>Public</th>
            <th>Commercial</th>
            <th>ID</th>
            <th>Visits</th>
            <th>Average Rating</th>
        </tr>
        <!--<tr ng-repeat="cf in confirmedProperties | filter: { is_public: 1, is_commercial: 1 }">-->
        <tr ng-repeat="cf in publicConfirmedProperties | filter: search | filter:  { is_public: 1 }"
            ng-click="viewPropertyDetail(cf.property_id)"
            ng-cloak>
            <td>{{cf.name}}</td>
            <td>{{cf.st_address}}</td>
            <td>{{cf.city}}</td>
            <td>{{cf.zip}}</td>
            <td>{{cf.type}}</td>
            <td>{{cf.is_public ? "True" : "False"}}</td>
            <td>{{cf.is_commercial ? "True" : "False"}}</td>
            <td>{{cf.property_id}}</td>
            <td>{{cf.num_visits}}</td>
            <td>{{cf.avg_rating ? cf.avg_rating : "N/A"}}</td>
        </tr>
    </table>

</div>
